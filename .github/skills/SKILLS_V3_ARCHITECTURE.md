# Skills v3.0 - 架构说明（简化版）

> **版本**: v3.0.1
> **最后更新**: 2026-02-07
> **核心设计**: 2个入口 + 2个工作流 + 11个skills

---

## 🎯 设计理念

**核心原则**：用户只需要知道 2 种触发方式

- ✅ 学习相关 → `autonomous-orchestrator`
- ✅ 面试相关 → `interview-oracle`

---

## 📊 总体架构

```
用户对话
    │
    ├─→ "今天学什么？" ─────────────────────────┐
    │                                            │
    ├─→ "准备面试 Trae" ─────────────┐          │
    │                                 │          │
    ▼                                 ▼          ▼
┌───────────────────┐      ┌───────────────────┐
│ autonomous-       │      │ interview-oracle  │
│ orchestrator      │      │ (面试准备入口)      │
│ (学习入口)         │      │                   │
└─────────┬─────────┘      └─────────┬─────────┘
          │                          │
    ┌─────┴─────┐            ┌───────┴───────┐
    │  工作流1    │            │   工作流2       │
    │自主学习流程  │            │  面试准备流程   │
    └─────┬─────┘            └───────┬───────┘
          │                          │
    ┌─────▼──────────────────────────▼─────┐
    │          核心Skills（7个）              │
    │                                        │
    │ 学习流程:                              │
    │  daily-planner → autonomous-learner   │
    │  → auto-assessor → progress-tracker │
    │                                        │
    │ 面试流程:                              │
    │  job-analyzer → smart-recommender    │
    │  → auto-assessor → auto-syncer       │
    │                                        │
    │ 两个流程都会调用 auto-syncer           │
    └────────────────────────────────────────┘
          │
    ┌─────▼─────┐
    │ 工具Skills │  ← 被工作流内部调用，用户无需关心
    │ (4个)      │
    │ doc-sync   │
    │ practice   │
    │ checkpoint │
    │ assessor   │
    └───────────┘
```

---

## 🔀 2个用户入口

### 入口 1: autonomous-orchestrator

**职责**：学习流程的总入口和编排器

**触发方式**：
- "今天学什么？"
- "开始学习"
- "继续学习"
- "学习 [主题]"

**智能路由**：
- 检测到学习相关 → 触发自主学习流程
- 检测到面试相关 → 路由到 interview-oracle

### 入口 2: interview-oracle

**职责**：面试准备的总入口和编排器

**触发方式**：
- "准备面试 [公司名]"
- "分析这个JD"
- "我准备好面试了吗？"
- "推荐学习路径"

**智能路由**：
- 有JD → job-analyzer → smart-recommender
- 无JD → 请求用户提供JD
- 查看进度 → auto-assessor → progress-tracker

---

## 🔄 2个工作流

### 工作流 1: 自主学习流程

```
用户: "今天学什么？"
    ↓
autonomous-orchestrator (主编排)
    - 读取当前时间、进度、计划
    - 智能判断今天该做什么
    ↓
daily-planner (每日规划)
    - 分析今日状态
    - 智能规划今日任务
    - 生成学习计划
    ↓
autonomous-learner (自主学习者)
    - 接收学习计划
    - 内部调用 practice 生成练习题
    - 自主学习 + 完成练习
    - 自动记录学习时间
    ↓
auto-assessor (自动评估)
    - 评估学习效果
    - 更新技能掌握度
    - 识别薄弱点
    ↓
progress-tracker (进度跟踪)
    - 更新整体进度
    - 识别需要复习的内容
    ↓
auto-syncer (自动同步)
    - git add . && git commit
    - git push
    - 定时 git pull
    ↓
输出: 完整的学习报告
```

**关键特性**：
- ✅ 完全自主执行
- ✅ 智能决策学习内容
- ✅ 自动生成和完成练习
- ✅ 自动评估和更新技能等级

### 工作流 2: 面试准备流程

```
用户: "准备面试 Trae"
    ↓
interview-oracle (面试准备入口)
    - 识别目标岗位
    - 获取或搜索 JD
    ↓
job-analyzer (职位分析)
    - 解析 JD（文本/URL）
    - 提取关键技能要求
    - 匹配用户技能
    - 生成技能差距报告
    ↓
smart-recommender (智能推荐)
    - 基于技能差距生成学习路径
    - 估算准备时间
    - 推荐学习资源
    ↓
auto-assessor (自动评估)
    - 评估面试准备度
    - 识别关键问题
    - 预测面试通过概率
    ↓
auto-syncer (自动同步)
    - 保存分析结果
    - git commit && git push
    ↓
输出: 完整的面试准备包
```

**关键特性**：
- ✅ 自动解析 JD
- ✅ 智能技能匹配
- ✅ 个性化学习路径
- ✅ 完整的准备包

---

## 📋 11个Skills清单

### 用户入口（2个）

```
┌─────────────────────────────────────────────────┐
│ 🔀 autonomous-orchestrator                       │
│    主编排器 - 学习流程入口                         │
│    触发："今天学什么"、"开始学习"、"继续学习"     │
│    输出：学习报告                                 │
└─────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────┐
│ 🎯 interview-oracle                               │
│    面试准备入口                                   │
│    触发："准备面试"、"分析JD"                    │
│    输出：面试准备包                               │
└─────────────────────────────────────────────────┘
```

### 核心工作流 Skills（7个）

#### 学习流程专用（4个）

```
┌─────────────────────────────────────────────────┐
│ 📚 daily-planner                                 │
│    每日规划器                                     │
│    调用者：autonomous-orchestrator               │
│    职责：分析状态、规划任务、生成计划             │
└─────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────┐
│ 🤖 autonomous-learner                            │
│    自主学习者                                     │
│    调用者：autonomous-orchestrator               │
│    职责：接收计划、自主学习、内部调用practice    │
└─────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────┐
│ 📊 auto-assessor                                 │
│    自动评估器                                     │
│    调用者：两个流程                              │
│    职责：评估效果、更新技能、识别薄弱点           │
└─────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────┐
│ 📈 progress-tracker                               │
│    进度跟踪                                       │
│    调用者：autonomous-orchestrator               │
│    职责：更新进度、识别复习内容、更新百分比       │
└─────────────────────────────────────────────────┘
```

#### 面试流程专用（2个）

```
┌─────────────────────────────────────────────────┐
│ 🎯 job-analyzer                                  │
│    职位分析器                                     │
│    调用者：interview-oracle                      │
│    职责：解析JD、提取要求、匹配技能、生成差距报告 │
└─────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────┐
│ 💡 smart-recommender                             │
│    智能推荐器                                     │
│    调用者：interview-oracle                      │
│    职责：推荐学习内容、生成路径、估算时间         │
└─────────────────────────────────────────────────┘
```

#### 共用（1个）

```
┌─────────────────────────────────────────────────┐
│ 🔧 auto-syncer                                   │
│    自动同步器                                     │
│    调用者：两个流程                              │
│    职责：自动commit、push、pull                  │
└─────────────────────────────────────────────────┘
```

### 工具 Skills（4个）

这些 skills 被工作流内部调用，用户不需要直接使用：

```
┌─────────────────────────────────────────────────┐
│ 📁 doc-sync                                      │
│    文档同步                                       │
│    调用者：autonomous-orchestrator（检测到新JD） │
│    用途：解析新JD、更新核心文档                  │
└─────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────┐
│ 📝 practice                                      │
│    练习生成                                       │
│    调用者：autonomous-learner（内部）             │
│    用途：生成练习题、自动评分                     │
└─────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────┐
│ ✅ checkpoint                                    │
│    检查点保存                                     │
│    调用者：autonomous-orchestrator（完成阶段）    │
│    用途：保存里程碑、生成git commit              │
└─────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────┐
│ 📊 assessor                                      │
│    技能评估（手动）                               │
│    调用者：用户主动触发                          │
│    用途：用户说"评估我的Python水平"时            │
└─────────────────────────────────────────────────┘
```

---

## 🎯 实际运行示例

### 示例 1: 用户说"今天学什么"

```
你: "今天学什么？"

系统: (autonomous-orchestrator)
  📊 分析当前状态...

  1. 读取今日时间：2026-02-07 10:00
  2. 读取当前进度：Python 学习阶段 3（共 10）
  3. 读取学习计划：08_Action_Plan_2026_H1.md
  4. 查看昨日完成：Python 装饰器基础（90%）
  5. 智能判断：继续 Python 装饰器进阶

  📋 今日学习计划：
     - Python 装饰器进阶（1.5 小时）
     - RAG 检索优化（2 小时）

  🚀 开始自主执行...

  (daily-planner) 生成学习计划... ✅
  (autonomous-learner) 学习装饰器进阶，完成 5 道练习... ✅
  (auto-assessor) 评估效果，等级 ⭐⭐... ✅
  (progress-tracker) 更新进度 40% → 42%... ✅
  (auto-syncer) git commit & push... ✅

  ✅ 完成！

  📝 学习报告：
     - 学习时长：3.2 小时
     - 学习效率：85%
     - 技能等级：⭐ → ⭐⭐
     - 薄弱点：向量数据库实战
     - 明日建议：RAG 检索优化
```

### 示例 2: 用户说"准备面试 Trae"

```
你: "准备面试 Trae 的 AI IDE 工程师岗位"

系统: (interview-oracle)
  📊 分析目标岗位...

  1. 识别岗位：AI IDE Engineer @ Trae
  2. 获取或搜索 JD
  3. 路由到面试准备流程

  🚀 开始执行...

  (job-analyzer) 解析 JD，提取 8 个关键技能... ✅
  (smart-recommender) 生成 3 周学习路径... ✅
  (auto-assessor) 评估准备度 75%... ✅
  (auto-syncer) 保存分析结果并同步... ✅

  ✅ 完成！

  📝 面试准备包：
     - 职位匹配度：75%
     - 技能差距：LangGraph（严重），多模态输入（严重）
     - 学习路径：3 周详细计划
     - 准备时间：3 周
     - 资源推荐：10+ 精选资源
```

### 示例 3: 用户说"查看进度"

```
你: "查看进度"

系统: (progress-tracker)
  📊 当前进度

  整体进度：40%
  - 阶段一：✅ 信息收集（100%）
  - 阶段二：✅ 详细计划（100%）
  - 阶段三：🔄 技能提升（40%）
  - 阶段四：📋 面试准备（0%）

  技能提升：
  | 技能 | 起始 | 当前 | 目标 | 进度 |
  |------|------|------|------|------|
  | Python | ⭐ | ⭐⭐ | ⭐⭐⭐ | 60% |
  | RAG | ⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐⭐ | 50% |
  | Agent | ⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐⭐ | 62% |

  明日建议：
  - 优先学习：LangGraph 基础
  - 复习：Python 装饰器
```

---

## 🤔 关键问题解答

### Q1: 为什么有2个入口而不是1个？

**A**: 职责分离，清晰易懂

- `autonomous-orchestrator`：专注于日常学习
- `interview-oracle`：专注于面试准备

如果只有一个入口，逻辑会变得复杂且难以维护。

### Q2: 什么时候调用哪个 skill？

**A**: 你不需要知道！

- 系统自动判断意图
- 自动路由到相应的工作流
- 内部调用对你完全透明

### Q3: 那么多 skills，怎么管理？

**A**: 按层次组织

```
第 1 层（用户入口）：2 个
    ↓ 自动路由
第 2 层（工作流）：7 个
    ↓ 内部调用
第 3 层（工具）：4 个
```

你只需要关心第 1 层，其他都自动处理。

### Q4: 如果我想用某个工具 skill 怎么办？

**A**: 大多数工具 skills 不需要直接使用

但如果确实需要：
- "评估我的Python水平" → assessor
- "记录今天的面试" → interview-recorder
- "保存当前进度" → checkpoint

系统会自动路由。

---

## 📊 简化前后对比

### 简化前（v3.0 初稿）

```
❌ 13 个 skills
❌ 文档不一致（提到不存在的 skills）
❌ 调用关系复杂
❌ 用户难以理解何时用哪个
❌ 没有统一的面试准备入口
```

### 简化后（v3.0.1）

```
✅ 11 个 skills（减少 2 个）
✅ 文档一致（删除不存在 skills 的引用）
✅ 调用关系清晰（2个入口 + 2个工作流）
✅ 用户只需知道 2 种触发方式
✅ 新增 interview-oracle 作为统一入口
```

---

## 🚀 下一步

1. **开始使用**
   - 说"今天学什么"开始学习
   - 说"准备面试 [公司名]"准备面试

2. **查看文档**
   - [README_v3_Autonomous.md](README_v3_Autonomous.md) - 完整使用指南
   - [00_Quick_Start.md](../../00_Quick_Start.md) - 快速开始

3. **反馈建议**
   - 发现问题请记录
   - 提出改进建议

---

**维护者**: Autonomous Skills Team
**最后更新**: 2026-02-07
